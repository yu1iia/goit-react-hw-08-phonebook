(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{79:function(t,e,n){t.exports={sectionTitle:"App_sectionTitle__1KGSm",contactListTitle:"App_contactListTitle__2XDTF",appear:"App_appear__n4iaO",appearActive:"App_appearActive__1JsP3",welcomeTitle:"App_welcomeTitle__1KX4n"}},83:function(t,e,n){t.exports={contactListItem:"ContactFormListItem_contactListItem__2QroZ"}},84:function(t,e,n){t.exports={contactList:"ContactList_contactList__3QudJ",enter:"ContactList_enter__180Wv",enterActive:"ContactList_enterActive__tWDq-",exit:"ContactList_exit__2qkJ3",exitActive:"ContactList_exitActive__3nsEF"}},85:function(t,e,n){t.exports={appear:"Alert_appear__1x9c1",appearActive:"Alert_appearActive__UBk5q",alertWrapper:"Alert_alertWrapper__1PQgW"}},89:function(t,e,n){"use strict";n.r(e);var a=n(13),c=n(28),r=n(25),o=n(26),u=n(30),i=n(29),l=n(0),s=n.n(l),p=n(6),m=n(14),C=n.n(m),f=n(3),_={filter:function(t){return{type:f.a.FILTER,payload:{filter:t}}},duplicate:function(){return{type:f.a.DUPLICATE}},addContactRequest:function(){return{type:f.a.ADD_CONTACT_REQUEST}},addContactSuccess:function(t){return{type:f.a.ADD_CONTACT_SUCCESS,payload:Object(a.a)({},t)}},addContactError:function(t){return{type:f.a.ADD_CONTACT_ERROR,payload:{error:t}}},fetchContactRequest:function(){return{type:f.a.FETCH_CONTACT_REQUEST}},fetchContactSuccess:function(t){return{type:f.a.FETCH_CONTACT_SUCCESS,payload:t}},fetchContactError:function(t){return{type:f.a.FETCH_CONTACT_ERROR,payload:{error:t}}},removeContactError:function(t){return{type:f.a.DEL_CONTACT_ERROR,payload:{error:t}}},removeContactSuccess:function(t){return{type:f.a.DEL_CONTACT_SUCCESS,payload:t}},removeContactRequest:function(){return{type:f.a.DEL_CONTACT_REQUEST}}},E="https://goit-phonebook-api.herokuapp.com",h={onAddContact:function(t){return function(e){e(_.addContactRequest()),C.a.post("".concat(E,"/contacts"),t).then((function(t){e(_.addContactSuccess(t.data))})).catch((function(t){return e(_.addContactError(t))}))}},onRemoveContacts:function(t){return function(e){e(_.removeContactRequest()),C.a.delete("".concat(E,"/contacts/").concat(t)).then((function(){e(_.removeContactSuccess(t))})).catch((function(t){e(_.removeContactError(t))}))}},fetchContacts:function(){return function(t){t(_.fetchContactRequest()),C.a.get("".concat(E,"/contacts")).then((function(e){var n=e.data;t(_.fetchContactSuccess(n))})).catch((function(e){t(_.fetchContactError(e))}))}}},d=n(27),v=n(91),A=n(90),b=n(83),T=n.n(b),y=function(t){var e=t.id,n=t.name,a=t.number,c=t.onRemove;return s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{key:e,className:T.a.contactListItem},s.a.createElement("p",null," ",n," : "),s.a.createElement("p",null," ",a," "),s.a.createElement("button",{type:"button",onClick:c},"Delete")))},g=n(84),O=n.n(g),R={onChangeFilter:_.filter},S=Object(p.b)((function(t){return{value:d.a.getFilter(t)}}),R)((function(t){var e=t.value,n=t.onChangeFilter;return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,s.a.createElement("p",null,"Find contacts by name"),s.a.createElement("input",{type:"text",name:"filter",value:e,onChange:function(t){n(t.target.value)}})))})),L={onRemoveContacts:h.onRemoveContacts},F=Object(p.b)((function(t){return{items:d.a.getContacts(t),contacts:d.a.getFilteredContacts(t)}}),L)((function(t){var e=t.contacts,n=t.onRemoveContacts;return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,null),s.a.createElement(v.a,{component:"ul",className:O.a.contactList},e.map((function(t){var e=t.id,a=t.name,c=t.number;return s.a.createElement(A.a,{key:e,timeout:1e3,classNames:O.a,unmountOnExit:!0},s.a.createElement(y,{key:e,name:a,number:c,onRemove:function(){return n(e)}}))}))))})),N=n(31),x=n(79),D=n.n(x),k=n(85),U=n.n(k),j=function(){return s.a.createElement(A.a,{classNames:U.a,in:!0,appear:!0,timeout:1500,unmountOnExit:!0},s.a.createElement("div",{className:U.a.alertWrapper},s.a.createElement("p",null,"Contact already exists !")))},q=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(t=e.call.apply(e,[this].concat(u))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,r=n.value;t.setState(Object(c.a)({},a,r))},t.handleSubmit=function(e){e.preventDefault(),t.duplicateFn()?(console.log("hi"),setTimeout((function(){t.props.onAlert()}),1500)):(t.props.onAddContact(Object(a.a)({},t.state)),t.setState({name:"",number:""}))},t.duplicateFn=function(){var e=t.state.name;return t.props.contacts.some((function(t){return t.name.toLowerCase()===e.toLowerCase().trim()}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser(),this.props.fetchContacts()}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return s.a.createElement(s.a.Fragment,null,this.props.alert&&s.a.createElement(j,{alert:alert}),s.a.createElement("h2",{className:D.a.contactListTitle},"Contacts"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",{htmlFor:"Name"},"Name",s.a.createElement("input",{type:"text",value:e,onChange:this.handleChange,name:"name"})),s.a.createElement("label",null,"Number:",s.a.createElement("input",{type:"text",value:n,onChange:this.handleChange,name:"number"})),s.a.createElement("button",{type:"submit"}," Add contact")),s.a.createElement(F,null))}}]),n}(l.Component),w={onAddContact:h.onAddContact,onAlert:_.duplicate,onGetCurrentUser:N.a.getCurrentUser,fetchContacts:h.fetchContacts};e.default=Object(p.b)((function(t){return{contacts:d.a.getContacts(t),alert:d.a.getAlert(t)}}),w)(q)}}]);
//# sourceMappingURL=3.8952a957.chunk.js.map